name: supply_chain_network
tables:
  - name: SUPPLIERS
    base_table:
      database: SUPPLY_CHAIN_NETWORK_OPTIMIZATION_DB
      schema: ENTITIES
      table: SUPPLIERS
    dimensions:
      - name: SUPPLIER_ID
        expr: SUPPLIER_ID
        data_type: INTEGER
        description: Unique identifier for the supplier
        sample_values:
          - '9001'
          - '9002'
          - '9003'
        synonyms:
          - supplier_number
          - vendor_id
          - supplier_key
          - vendor_number
      - name: SUPPLIER_NAME
        expr: SUPPLIER_NAME
        data_type: VARCHAR(255)
        description: Name of the supplier company
        sample_values:
          - Aerospace Materials Corp
          - Titanium Alloys International
          - Carbon Fiber Solutions
        synonyms:
          - vendor_name
          - supplier_company
          - vendor_company
          - supplier_business_name
      - name: ADDRESS
        expr: ADDRESS
        data_type: VARCHAR(255)
        description: Street address of the supplier
        sample_values:
          - 1200 Aviation Blvd
          - 4500 Industrial Way
          - 800 Composite Dr
        synonyms:
          - street_address
          - location
          - supplier_location
          - vendor_address
      - name: CITY
        expr: CITY
        description: City of the supplier
        synonyms:
          - town
          - municipality
          - supplier_city
          - vendor_city
        data_type: VARCHAR(100)
        sample_values:
          - Seattle
          - Phoenix
          - Wichita
      - name: STATE
        expr: STATE
        description: State/Province of the supplier
        synonyms:
          - province
          - supplier_state
          - vendor_state
        data_type: VARCHAR(50)
        sample_values:
          - WA
          - AZ
          - KS
      - name: COUNTRY
        expr: COUNTRY
        description: Country of the supplier
        synonyms:
          - nation
          - supplier_country
          - vendor_country
        data_type: VARCHAR(50)
        sample_values:
          - USA
      - name: CONTACT_PERSON_NAME
        expr: CONTACT_PERSON_NAME
        data_type: VARCHAR(255)
        description: Primary contact person at the supplier
        sample_values:
          - Sarah Johnson
          - Michael Chen
          - Jennifer Davis
        synonyms:
          - contact_name
          - supplier_contact
          - vendor_contact
      - name: SUPPLIER_TYPE
        expr: SUPPLIER_TYPE
        data_type: VARCHAR(100)
        description: Type of supplier (Raw Materials, Components, Services, etc.)
        sample_values:
          - Raw Materials
          - Components
          - Services
        synonyms:
          - vendor_type
          - supplier_category
          - vendor_category
      - name: BUSINESS_LINE
        expr: BUSINESS_LINE
        data_type: VARCHAR(15)
        description: business line (AEROSPACE, INDUSTRIAL, BUILDINGS, ENERGY)
        sample_values:
          - AEROSPACE
          - INDUSTRIAL
          - BUILDINGS
          - ENERGY
        synonyms:
          - division
          - department
          - business_unit
          - product_line
          - organization_unit
          - company_segment
          - industry_sector
      - name: IS_PREFERRED
        expr: IS_PREFERRED
        data_type: BOOLEAN
        description: Indicates if this is a preferred supplier
        sample_values:
          - 'TRUE'
          - 'FALSE'
        synonyms:
          - preferred_vendor
          - preferred_status
          - is_preferred_vendor
    primary_key:
      columns:
        - SUPPLIER_ID
  - name: BILL_OF_MATERIALS
    base_table:
      database: SUPPLY_CHAIN_NETWORK_OPTIMIZATION_DB
      schema: ENTITIES
      table: BILL_OF_MATERIALS
    dimensions:
      - name: BOM_ID
        expr: BOM_ID
        data_type: INTEGER
        description: Unique identifier for the bill of materials entry
        sample_values:
          - '10001'
          - '10002'
          - '10003'
        synonyms:
          - bill_of_materials_id
          - bom_key
          - bom_number
      - name: PARENT_PRODUCT_ID
        expr: PARENT_PRODUCT_ID
        data_type: INTEGER
        description: Product that uses these materials/components
        sample_values:
          - '5001'
          - '5002'
          - '5003'
        synonyms:
          - product_id
          - finished_product_id
          - parent_item_id
      - name: PARENT_COMPONENT_ID
        expr: PARENT_COMPONENT_ID
        data_type: INTEGER
        description: Component that uses these materials (for sub-assemblies)
        sample_values:
          - '1001'
          - '1002'
          - '1003'
        synonyms:
          - component_id
          - parent_assembly_id
          - sub_assembly_id
      - name: CHILD_MATERIAL_ID
        expr: CHILD_MATERIAL_ID
        data_type: INTEGER
        description: Raw material used in this BOM
        sample_values:
          - '101'
          - '102'
          - '103'
        synonyms:
          - material_id
          - raw_material_id
          - required_material_id
      - name: CHILD_COMPONENT_ID
        expr: CHILD_COMPONENT_ID
        data_type: INTEGER
        description: Component used in this BOM
        sample_values:
          - '1001'
          - '1002'
          - '1003'
        synonyms:
          - component_id
          - required_component_id
          - child_part_id
      - name: UNIT_OF_MEASURE
        expr: UNIT_OF_MEASURE
        data_type: VARCHAR(50)
        description: Unit of measure (pieces, kg, meters, etc.)
        sample_values:
          - pieces
          - kg
          - m2
          - m
        synonyms:
          - uom
          - unit
          - measurement_unit
    time_dimensions:
      - name: EFFECTIVE_DATE
        expr: EFFECTIVE_DATE
        data_type: DATE
        description: Date when this BOM version becomes effective
        sample_values:
          - '2024-01-01'
        synonyms:
          - start_date
          - activation_date
          - valid_from_date
    facts:
      - name: QUANTITY_REQUIRED
        expr: QUANTITY_REQUIRED
        data_type: NUMBER(10,4)
        description: Quantity of the child item required per parent item
        sample_values:
          - '2.5000'
          - '1.2000'
          - '3.8000'
        synonyms:
          - required_quantity
          - quantity_per_unit
          - usage_quantity
      - name: SCRAP_FACTOR
        expr: SCRAP_FACTOR
        data_type: NUMBER(5,4)
        description: Expected scrap/waste factor (0.05 = 5% scrap)
        sample_values:
          - '0.0500'
          - '0.0300'
          - '0.0200'
        synonyms:
          - waste_factor
          - scrap_percentage
          - loss_factor
    primary_key:
      columns:
        - BOM_ID
  - name: MFG_PLANT
    base_table:
      database: SUPPLY_CHAIN_NETWORK_OPTIMIZATION_DB
      schema: ENTITIES
      table: MFG_PLANT
    dimensions:
      - name: MFG_PLANT_ID
        expr: MFG_PLANT_ID
        data_type: INTEGER
        description: Unique identifier for the Manufacturing Plant
        sample_values:
          - '1001'
          - '1002'
          - '1003'
        synonyms:
          - plant_id
          - mfg_plant
          - manufacturing_plant
          - plant_number
      - name: MFG_PLANT_NAME
        expr: MFG_PLANT_NAME
        data_type: VARCHAR(255)
        description: Name of the Manufacturing Plant
        sample_values:
          - Phoenix Aerospace Manufacturing
          - Seattle Aircraft Components
          - Wichita Aviation Systems
        synonyms:
          - plant_name
          - facility_name
      - name: ADDRESS
        expr: ADDRESS
        data_type: VARCHAR(255)
        description: Street address of the facility
        sample_values:
          - 1 Skyview Dr
          - 1050 Delta Blvd
          - 100 N Riverside Plaza
        synonyms:
          - street_address
          - location
          - facility_location
          - mailing_address
          - physical_address
          - site_address
      - name: CITY
        expr: CITY
        description: City of the facility
        synonyms:
          - town
          - municipality
          - metropolis
          - urban_area
          - city_name
          - urban_center
          - metropolitan_area
        data_type: VARCHAR(100)
        sample_values:
          - Fort Worth
          - Atlanta
          - Seattle
      - name: STATE
        expr: STATE
        description: State/Province of the facility
        synonyms:
          - province
          - county
          - prefecture
          - administrative_area
          - geographic_area
          - locality
        data_type: VARCHAR(50)
        sample_values:
          - TX
          - GA
          - WA
      - name: COUNTRY
        expr: COUNTRY
        description: Country of the facility
        synonyms:
          - nation
          - land
          - territory
          - state
          - region
          - geographical_area
          - homeland
          - nationality
        data_type: VARCHAR(50)
        sample_values:
          - USA
      - name: ZIP_CODE
        expr: ZIP_CODE
        data_type: VARCHAR(20)
        description: Postal code of the facility
        sample_values:
          - '76155'
          - '30354'
          - '98101'
        synonyms:
          - postal_code
          - postcode
          - zip
          - postal
          - mailing_code
          - geographic_code
      - name: IS_ACTIVE
        expr: IS_ACTIVE
        data_type: BOOLEAN
        description: Indicates if the facility is currently active
        sample_values:
          - 'TRUE'
        synonyms:
          - active_status
          - status
          - is_current
          - is_enabled
          - is_operational
          - is_open
          - is_running
          - is_valid
          - current_status
      - name: BUSINESS_LINE
        expr: BUSINESS_LINE
        data_type: VARCHAR(15)
        description: business line (AEROSPACE, INDUSTRIAL, BUILDINGS, ENERGY)
        sample_values:
          - AEROSPACE
          - INDUSTRIAL
          - BUILDINGS
          - ENERGY
        synonyms:
          - division
          - department
          - business_unit
          - product_line
          - organization_unit
          - company_segment
          - industry_sector
    facts:
      - name: LATITUDE
        expr: LATITUDE
        data_type: NUMBER(10,6)
        description: Latitude coordinate of the facility
        sample_values:
          - '33.4484'
          - '47.6062'
          - '37.6922'
        synonyms:
          - latitude_coordinate
          - geographic_latitude
          - lat
          - latitude_value
          - latitude_position
      - name: LONGITUDE
        expr: LONGITUDE
        data_type: NUMBER(11,6)
        description: Longitude coordinate of the facility
        sample_values:
          - '-112.0740'
          - '-122.3321'
          - '-97.3375'
        synonyms:
          - east_west_coordinate
          - easting
          - geographic_longitude
          - longitudinal_coordinate
          - meridian_coordinate
      - name: SQUARE_FOOTAGE
        expr: SQUARE_FOOTAGE
        data_type: NUMBER(10,2)
        description: Total square footage of the manufacturing plant
        sample_values:
          - '450000.00'
          - '380000.00'
          - '520000.00'
        synonyms:
          - floor_space
          - facility_size
          - building_area
          - plant_area
      - name: NUMBER_OF_EMPLOYEES
        expr: NUMBER_OF_EMPLOYEES
        data_type: NUMBER(38,0)
        description: Number of employees at the manufacturing plant
        sample_values:
          - '850'
          - '625'
          - '945'
        synonyms:
          - employee_count
          - workforce
          - headcount
          - staff_size
    primary_key:
      columns:
        - MFG_PLANT_ID
  - name: COMPONENT
    base_table:
      database: SUPPLY_CHAIN_NETWORK_OPTIMIZATION_DB
      schema: ENTITIES
      table: COMPONENT
    dimensions:
      - name: COMPONENT_ID
        expr: COMPONENT_ID
        data_type: INTEGER
        description: Unique identifier for the component
        sample_values:
          - '1001'
          - '1002'
          - '1003'
        synonyms:
          - component_number
          - part_id
          - component_key
          - part_number
          - component_reference
      - name: COMPONENT_NAME
        expr: COMPONENT_NAME
        data_type: VARCHAR(255)
        description: Name of the component
        sample_values:
          - Flight Control PCB
          - Turbine Blade Assembly
          - Navigation Sensor Module
        synonyms:
          - component_title
          - part_name
          - module_name
          - assembly_name
          - unit_name
          - element_name
          - item_name
      - name: COMPONENT_DESCRIPTION
        expr: COMPONENT_DESCRIPTION
        data_type: VARCHAR(1024)
        description: Description of the component
        sample_values:
          - Primary flight control printed circuit board with redundant processing units for commercial aircraft
          - High-temperature resistant turbine blade assembly for jet engines with ceramic coating
          - Integrated GPS/INS navigation sensor module for aircraft positioning and guidance
        synonyms:
          - component_info
          - component_details
          - component_summary
          - component_notes
          - component_commentary
          - part_description
      - name: BILL_OF_MATERIALS_ID
        expr: BILL_OF_MATERIALS_ID
        data_type: INTEGER
        description: Foreign key referencing a bill_of_materials table (if applicable)
        sample_values:
          - '5001'
          - '5002'
          - '5003'
        synonyms:
          - bom_id
          - bill_of_materials_reference
          - material_id
          - assembly_id
          - component_material_reference
          - bom_reference_id
      - name: BUSINESS_LINE
        expr: BUSINESS_LINE
        data_type: VARCHAR(15)
        description: business line (AEROSPACE, INDUSTRIAL, BUILDINGS, ENERGY)
        sample_values:
          - AEROSPACE
          - INDUSTRIAL
          - BUILDINGS
          - ENERGY
        synonyms:
          - division
          - department
          - business_unit
          - product_line
          - organization_unit
          - company_segment
          - market_segment
    primary_key:
      columns:
        - COMPONENT_ID
  - name: PRODUCT
    base_table:
      database: SUPPLY_CHAIN_NETWORK_OPTIMIZATION_DB
      schema: ENTITIES
      table: PRODUCT
    dimensions:
      - name: PRODUCT_ID
        expr: PRODUCT_ID
        data_type: INTEGER
        description: Unique identifier for the product
        sample_values:
          - '5001'
          - '5002'
          - '5003'
        synonyms:
          - product_key
          - product_number
          - product_code
          - item_id
          - sku
      - name: PRODUCT_NAME
        expr: PRODUCT_NAME
        data_type: VARCHAR(255)
        description: Name of the product
        sample_values:
          - Flight Management System
          - Engine Monitoring System
          - Weather Radar System
        synonyms:
          - product_title
          - item_name
          - product_label
          - product_heading
          - system_name
      - name: PRODUCT_DESCRIPTION
        expr: PRODUCT_DESCRIPTION
        data_type: VARCHAR(1024)
        description: Description of the product
        sample_values:
          - Complete flight management system for commercial aircraft with navigation and autopilot capabilities
          - Real-time engine health monitoring system with predictive maintenance capabilities
          - Advanced weather detection radar system for aircraft with turbulence prediction
        synonyms:
          - product_info
          - item_description
          - product_details
          - product_summary
          - item_info
          - product_overview
      - name: PRODUCT_CATEGORY
        expr: PRODUCT_CATEGORY
        data_type: VARCHAR(100)
        description: Category of the product
        sample_values:
          - Avionics
          - Engine Systems
          - Safety Systems
        synonyms:
          - product_type
          - product_group
          - category_name
          - product_classification
          - product_segment
          - product_family
      - name: BUSINESS_LINE
        expr: BUSINESS_LINE
        data_type: VARCHAR(15)
        description: business line (AEROSPACE, INDUSTRIAL, BUILDINGS, ENERGY)
        sample_values:
          - AEROSPACE
          - INDUSTRIAL
          - BUILDINGS
          - ENERGY
        synonyms:
          - division
          - department
          - business_unit
          - product_line
          - company_segment
          - organization_unit
    facts:
      - name: UNIT_PRICE
        expr: UNIT_PRICE
        data_type: NUMBER(10,2)
        description: Price per unit of the product
        sample_values:
          - '125000.00'
          - '85000.00'
          - '95000.00'
        synonyms:
          - price_per_unit
          - cost_per_item
          - unit_cost
          - product_price
          - item_price
          - price_per_item
          - cost_per_unit
    primary_key:
      columns:
        - PRODUCT_ID
  - name: CUSTOMER
    base_table:
      database: SUPPLY_CHAIN_NETWORK_OPTIMIZATION_DB
      schema: ENTITIES
      table: CUSTOMER
    dimensions:
      - name: CUSTOMER_ID
        expr: CUSTOMER_ID
        data_type: INTEGER
        description: Unique identifier for the customer
        sample_values:
          - '3001'
          - '3002'
          - '3003'
        synonyms:
          - customer_number
          - client_id
          - account_id
          - customer_key
          - account_number
      - name: CUSTOMER_NAME
        expr: CUSTOMER_NAME
        data_type: VARCHAR(255)
        description: Name of the customer
        sample_values:
          - American Airlines
          - Delta Air Lines
          - Boeing Commercial Airplanes
        synonyms:
          - customer_title
          - company_name
          - client_name
          - account_name
          - organization_name
          - business_name
          - entity_name
          - client_title
      - name: ADDRESS
        expr: ADDRESS
        data_type: VARCHAR(255)
        description: Street address of the customer
        sample_values:
          - 1 Skyview Dr
          - 1050 Delta Blvd
          - 100 N Riverside Plaza
        synonyms:
          - street_address
          - location
          - residence
          - mailing_address
          - physical_address
          - customer_location
          - geographical_address
      - name: CITY
        expr: CITY
        description: City of the customer
        synonyms:
          - town
          - municipality
          - metropolis
          - urban_area
          - city_name
          - urban_center
          - metropolitan_area
        data_type: VARCHAR(100)
        sample_values:
          - Fort Worth
          - Atlanta
          - Seattle
      - name: STATE
        expr: STATE
        description: State/Province of the customer
        synonyms:
          - province
          - county
          - prefecture
          - administrative_area
          - geographic_area
        data_type: VARCHAR(50)
        sample_values:
          - TX
          - GA
          - WA
      - name: COUNTRY
        expr: COUNTRY
        data_type: VARCHAR(50)
        description: Country of the customer
        sample_values:
          - USA
        synonyms:
          - nation
          - land
          - territory
          - state
          - region
          - nationality
          - homeland
          - territory_name
      - name: ZIP_CODE
        expr: ZIP_CODE
        data_type: VARCHAR(20)
        description: Postal code of the customer
        sample_values:
          - '76155'
          - '30354'
          - '98101'
        synonyms:
          - postal_code
          - postcode
          - zip
          - postal
          - post_code
          - zip_postal_code
      - name: CONTACT_PERSON_ID
        expr: CONTACT_PERSON_ID
        data_type: INTEGER
        description: Foreign key referencing a contacts table (if applicable)
        sample_values:
          - '30001'
          - '30002'
          - '30003'
        synonyms:
          - key_contact_id
          - contact_reference_id
          - person_of_contact_id
          - contact_person_reference
          - account_manager_id
          - point_of_contact_id
      - name: INDUSTRY
        expr: INDUSTRY
        data_type: VARCHAR(100)
        description: Industry of the customer
        sample_values:
          - Commercial Aviation
          - Aircraft Manufacturing
          - Defense Aerospace
        synonyms:
          - sector
          - market
          - field
          - business_sector
          - industry_type
          - business_category
          - market_segment
          - economic_sector
      - name: BUSINESS_LINE
        expr: BUSINESS_LINE
        data_type: VARCHAR(15)
        description: business line (AEROSPACE, INDUSTRIAL, BUILDINGS, ENERGY)
        sample_values:
          - AEROSPACE
          - INDUSTRIAL
          - BUILDINGS
          - ENERGY
        synonyms:
          - division
          - department
          - business_unit
          - product_line
          - segment
          - category
          - classification
    primary_key:
      columns:
        - CUSTOMER_ID
  - name: ORDERS
    base_table:
      database: SUPPLY_CHAIN_NETWORK_OPTIMIZATION_DB
      schema: ENTITIES
      table: ORDERS
    dimensions:
      - name: ORDER_ID
        expr: ORDER_ID
        data_type: INTEGER
        description: Unique identifier for the order
        sample_values:
          - '1'
          - '2'
          - '3'
        synonyms:
          - order_number
          - order_key
          - purchase_id
          - transaction_id
          - order_reference
      - name: CUSTOMER_ID
        expr: CUSTOMER_ID
        data_type: INTEGER
        description: Foreign key referencing the customer
        sample_values:
          - '3001'
          - '3002'
          - '3003'
        synonyms:
          - client_id
          - buyer_id
          - purchaser_id
          - account_id
          - customer_number
      - name: MFG_PLANT_ID
        expr: MFG_PLANT_ID
        data_type: INTEGER
        description: Foreign key referencing the manufacturing plant fulfilling the order
        sample_values:
          - '1001'
          - '1002'
          - '1003'
        synonyms:
          - plant_id
          - manufacturing_plant_id
          - fulfillment_plant
          - production_facility_id
      - name: PRODUCT_ID
        expr: PRODUCT_ID
        data_type: INTEGER
        description: Foreign key referencing the product
        sample_values:
          - '5001'
          - '5002'
          - '5003'
        synonyms:
          - product_key
          - item_id
          - product_code
          - sku
          - product_reference
          - item_reference
      - name: ORDER_STATUS
        expr: ORDER_STATUS
        data_type: VARCHAR(50)
        description: Status of the order (e.g., Placed, In Production, Shipped, Delivered, Cancelled)
        sample_values:
          - Delivered
          - Shipped
          - In Production
        synonyms:
          - order_state
          - status
          - order_condition
          - shipment_status
          - fulfillment_status
          - delivery_status
          - order_progress
    time_dimensions:
      - name: ORDER_DATE
        expr: ORDER_DATE
        data_type: TIMESTAMP_NTZ(9)
        description: Date and time the order was placed
        sample_values:
          - '2024-11-15T08:30:00.000Z'
          - '2024-12-02T14:15:00.000Z'
          - '2024-12-10T09:45:00.000Z'
        synonyms:
          - order_timestamp
          - order_placement_date
          - order_creation_date
          - order_submission_date
          - order_initiation_date
    facts:
      - name: QUANTITY
        expr: QUANTITY
        data_type: NUMBER(38,0)
        description: Quantity of the product ordered
        sample_values:
          - '2'
          - '1'
          - '3'
        synonyms:
          - amount
          - count
          - number_ordered
          - product_count
          - ordered_amount
          - item_quantity
      - name: UNIT_PRICE
        expr: UNIT_PRICE
        data_type: NUMBER(10,2)
        description: Price per unit at the time of order
        sample_values:
          - '125000.00'
          - '85000.00'
          - '95000.00'
        synonyms:
          - price_per_unit
          - unit_cost
          - cost_per_item
          - item_price
          - price_per_item
          - unit_rate
      - name: TOTAL_PRICE
        expr: TOTAL_PRICE
        data_type: NUMBER(10,2)
        description: Total price of the order line
        sample_values:
          - '250000.00'
          - '85000.00'
          - '285000.00'
        synonyms:
          - total_cost
          - order_total
          - total_amount
          - total_value
          - total_order_value
          - total_charge
          - grand_total
    primary_key:
      columns:
        - ORDER_ID
  - name: SHIPMENT
    base_table:
      database: SUPPLY_CHAIN_NETWORK_OPTIMIZATION_DB
      schema: ENTITIES
      table: SHIPMENT
    dimensions:
      - name: SHIPMENT_ID
        expr: SHIPMENT_ID
        data_type: INTEGER
        description: Unique identifier for the shipment
        sample_values:
          - '1001'
          - '1002'
          - '1003'
        synonyms:
          - shipment_number
          - shipment_key
          - shipment_reference
          - shipment_code
          - delivery_id
      - name: ORIGIN_MFG_PLANT_ID
        expr: ORIGIN_MFG_PLANT_ID
        data_type: INTEGER
        description: Foreign key referencing the originating manufacturing plant
        sample_values:
          - '1001'
          - '1002'
          - '1006'
        synonyms:
          - origin_plant_id
          - originating_facility_id
          - source_facility_id
          - shipping_facility_id
          - starting_facility_id
          - source_plant_id
      - name: DESTINATION_CUSTOMER_ID
        expr: DESTINATION_CUSTOMER_ID
        data_type: INTEGER
        description: Foreign key referencing the destination customer
        sample_values:
          - '3001'
          - '3002'
          - '4003'
        synonyms:
          - destination_customer
          - receiving_customer_id
          - delivery_customer_id
          - target_customer_id
          - recipient_customer_id
          - customer_id
      - name: TRACKING_NUMBER
        expr: TRACKING_NUMBER
        data_type: VARCHAR(50)
        description: Tracking number for the shipment
        sample_values:
          - TRK001001AA
          - TRK002001BB
          - TRK003001CC
        synonyms:
          - tracking_id
          - package_number
          - shipping_id
          - consignment_number
          - waybill_number
          - tracking_code
    time_dimensions:
      - name: SHIP_DATE
        expr: SHIP_DATE
        data_type: DATE
        description: Date the shipment was shipped
        sample_values:
          - '2024-11-16'
          - '2024-12-03'
          - '2024-12-06'
        synonyms:
          - shipment_date
          - dispatch_date
          - departure_date
          - send_date
          - shipping_date
          - date_shipped
      - name: EXPECTED_DELIVERY_DATE
        expr: EXPECTED_DELIVERY_DATE
        data_type: DATE
        description: Expected delivery date of the shipment
        sample_values:
          - '2024-11-20'
          - '2024-12-08'
          - '2024-12-12'
        synonyms:
          - expected_arrival_date
          - planned_delivery_date
          - estimated_delivery_date
          - scheduled_arrival_date
          - anticipated_delivery_date
          - projected_delivery_date
      - name: ACTUAL_DELIVERY_DATE
        expr: ACTUAL_DELIVERY_DATE
        data_type: DATE
        description: Actual delivery date of the shipment
        sample_values:
          - '2024-11-19'
          - '2024-12-07'
          - '2024-12-11'
        synonyms:
          - actual_shipment_delivery_date
          - delivery_date_actual
          - actual_arrival_date
          - date_delivered
          - actual_completion_date
          - shipment_arrival_date
    facts:
      - name: SHIPPING_COST
        expr: SHIPPING_COST
        data_type: NUMBER(10,2)
        description: Cost of shipping
        sample_values:
          - '2850.75'
          - '1950.25'
          - '3450.60'
        synonyms:
          - shipping_expense
          - freight_cost
          - transportation_cost
          - delivery_fee
          - logistics_expense
          - shipment_fee
    primary_key:
      columns:
        - SHIPMENT_ID
  - name: MFG_INVENTORY
    base_table:
      database: SUPPLY_CHAIN_NETWORK_OPTIMIZATION_DB
      schema: ENTITIES
      table: MFG_INVENTORY
    dimensions:
      - name: MFG_PLANT_ID
        expr: MFG_PLANT_ID
        data_type: INTEGER
        description: Foreign key referencing mfg_plant
        sample_values:
          - '1001'
          - '1002'
          - '1003'
        synonyms:
          - plant_code
          - plant_id
          - manufacturing_plant_id
          - facility_id
      - name: MATERIAL_ID
        expr: MATERIAL_ID
        data_type: INTEGER
        description: Foreign key referencing raw_material table (if applicable)
        sample_values:
          - '101'
          - '102'
          - '103'
        synonyms:
          - raw_material_id
          - material_code
          - material_number
          - inventory_material_id
          - material_identifier
      - name: COMPONENT_ID
        expr: COMPONENT_ID
        data_type: INTEGER
        description: Foreign key referencing component table (if applicable)
        sample_values:
          - '1001'
          - '1002'
          - '1003'
        synonyms:
          - component_reference
          - part_id
          - component_number
          - assembly_id
          - subassembly_id
          - component_key
      - name: PRODUCT_ID
        expr: PRODUCT_ID
        data_type: INTEGER
        description: Foreign key referencing product table (if applicable)
        sample_values:
          - '5001'
          - '5002'
          - '5003'
        synonyms:
          - product_key
          - product_number
          - finished_goods_id
          - item_id
          - sku
    time_dimensions:
      - name: LAST_UPDATED_TIMESTAMP
        expr: LAST_UPDATED_TIMESTAMP
        data_type: TIMESTAMP_NTZ(9)
        description: Timestamp of the last inventory update
        sample_values:
          - '2024-12-20T09:27:34.709Z'
        synonyms:
          - last_inventory_update
          - last_update
          - inventory_last_updated
          - last_sync_timestamp
          - last_refresh_date
          - timestamp_last_updated
          - last_inventory_sync
    facts:
      - name: QUANTITY_ON_HAND
        expr: QUANTITY_ON_HAND
        data_type: NUMBER(38,0)
        description: Current quantity on hand
        sample_values:
          - '2500'
          - '1800'
          - '150'
        synonyms:
          - current_stock
          - stock_level
          - inventory_level
          - quantity_in_stock
          - available_quantity
          - on_hand_quantity
          - current_inventory
          - stock_on_hand
      - name: QUANTITY_ON_ORDER
        expr: QUANTITY_ON_ORDER
        data_type: NUMBER(38,0)
        description: Quantity currently on order
        sample_values:
          - '500'
          - '300'
          - '25'
        synonyms:
          - ordered_quantity
          - quantity_ordered
          - items_on_order
          - pending_arrivals
          - stock_ordered
          - quantity_pending_delivery
      - name: SAFETY_STOCK_LEVEL
        expr: SAFETY_STOCK_LEVEL
        data_type: NUMBER(38,0)
        description: Minimum inventory level to maintain
        sample_values:
          - '1000'
          - '800'
          - '50'
        synonyms:
          - minimum_inventory_level
          - min_stock_level
          - inventory_buffer
          - safety_stock_quantity
          - minimum_stock_requirement
          - minimum_inventory_threshold
      - name: REPLENISHMENT_POINT
        expr: REPLENISHMENT_POINT
        data_type: NUMBER(38,0)
        description: Target inventory level for replenishment calculations
        sample_values:
          - '1800'
          - '1400'
          - '90'
        synonyms:
          - replenishment_level
          - target_inventory_level
          - inventory_target
          - replenishment_threshold
          - target_stock_level
      - name: MATERIAL_LEAD_TIME
        expr: MATERIAL_LEAD_TIME
        data_type: NUMBER(38,0)
        description: Lead time in days to acquire/produce this item
        sample_values:
          - '14'
          - '21'
          - '7'
        synonyms:
          - material_acquisition_time
          - lead_time_for_material
          - material_procurement_time
          - days_to_acquire_material
          - material_replenishment_time
          - procurement_lead_time
      - name: DAYS_FORWARD_COVERAGE
        expr: DAYS_FORWARD_COVERAGE
        data_type: NUMBER(38,0)
        description: Number of days current inventory can sustain demand
        sample_values:
          - '45'
          - '38'
          - '30'
        synonyms:
          - days_supply
          - inventory_coverage
          - forward_inventory_coverage
          - inventory_sustainability
          - days_of_inventory_on_hand
          - inventory_runway
          - production_sustainability_days
      - name: LEAD_TIME_VARIABILITY
        expr: LEAD_TIME_VARIABILITY
        data_type: NUMBER(38,0)
        description: Variability in lead time, measured in days
        sample_values:
          - '3'
          - '4'
          - '2'
        synonyms:
          - lead_variance
          - lead_variability
          - lead_time_uncertainty
    filters:
      - name: low_inventory
        description: Identifies inventory items where the current quantity on hand is below the established safety stock level and coverage is insufficient
        expr: quantity_on_hand < safety_stock_level AND DAYS_FORWARD_COVERAGE <= MATERIAL_LEAD_TIME + LEAD_TIME_VARIABILITY
        synonyms:
          - stockout risk
          - below safety stock
          - insufficient inventory
          - low stock
          - inventory shortage
          - replenishment needed
      - name: excess_inventory
        description: Identifies items with more than 3 times safety stock level and coverage greater than twice the lead time
        expr: quantity_on_hand > 3 * safety_stock_level AND days_forward_coverage > 2 * material_lead_time
        synonyms:
          - excess inventory
          - surplus inventory
          - surplus stock
          - overstock
    primary_key:
      columns:
        - MATERIAL_ID
        - COMPONENT_ID
        - PRODUCT_ID
  - name: RAW_MATERIAL
    base_table:
      database: SUPPLY_CHAIN_NETWORK_OPTIMIZATION_DB
      schema: ENTITIES
      table: RAW_MATERIAL
    dimensions:
      - name: MATERIAL_ID
        expr: MATERIAL_ID
        data_type: INTEGER
        description: Unique identifier for each raw material
        sample_values:
          - '101'
          - '102'
          - '103'
        synonyms:
          - raw_material_code
          - material_key
          - raw_material_identifier
          - material_number
          - material_id
      - name: MATERIAL_NAME
        expr: MATERIAL_NAME
        data_type: VARCHAR(16777216)
        description: Names of raw materials used in the supply chain network
        sample_values:
          - Aluminum Alloy 6061-T6
          - Carbon Fiber Composite
          - Titanium Grade 5 Alloy
        synonyms:
          - raw_material_name
          - material_title
          - item_name
          - product_name
          - material_label
          - raw_material_title
          - item_title
      - name: MATERIAL_DESCRIPTION
        expr: MATERIAL_DESCRIPTION
        data_type: VARCHAR(16777216)
        description: Detailed descriptions of raw materials
        sample_values:
          - High-strength aluminum alloy suitable for aerospace and automotive applications
          - Lightweight high-strength carbon fiber reinforced polymer sheets
          - Aerospace-grade titanium alloy with excellent strength-to-weight ratio
        synonyms:
          - material_info
          - raw_material_details
          - material_specifications
          - item_description
          - product_description
          - material_characteristics
      - name: SUPPLIER_ID
        expr: SUPPLIER_ID
        data_type: INTEGER
        description: Foreign key referencing the primary supplier for this material
        sample_values:
          - '9001'
          - '9002'
          - '9003'
        synonyms:
          - vendor_id
          - primary_supplier_id
          - material_supplier_id
      - name: BUSINESS_LINE
        expr: BUSINESS_LINE
        data_type: VARCHAR(15)
        description: business line (AEROSPACE, INDUSTRIAL, BUILDINGS, ENERGY)
        sample_values:
          - AEROSPACE
          - INDUSTRIAL
          - BUILDINGS
          - ENERGY
        synonyms:
          - division
          - department
          - business_unit
          - product_line
          - organization_unit
          - company_segment
          - industry_sector
    facts:
      - name: MATERIAL_COST
        expr: MATERIAL_COST
        data_type: NUMBER(10,2)
        description: The cost of the raw material from the supplier
        sample_values:
          - '8.50'
          - '45.75'
          - '125.00'
        synonyms:
          - material_price
          - raw_material_expense
          - supplier_cost
          - procurement_cost
          - unit_cost
          - material_expense
          - purchase_price
      - name: PLANT_TRANSPORT_COST
        expr: PLANT_TRANSPORT_COST
        data_type: NUMBER(10,2)
        description: Base cost for transporting this material between plants (before surcharge multiplier)
        sample_values:
          - '2.15'
          - '8.25'
          - '18.50'
        synonyms:
          - transport_base_cost
          - inter_plant_transport_cost
          - material_transfer_cost
          - plant_to_plant_cost
          - logistics_base_cost
          - transfer_base_rate
    primary_key:
      columns:
        - MATERIAL_ID
  - name: TRANSPORT_COST_SURCHARGE
    base_table:
      database: SUPPLY_CHAIN_NETWORK_OPTIMIZATION_DB
      schema: ENTITIES
      table: TRANSPORT_COST_SURCHARGE
    dimensions:
      - name: SOURCE_FACILITY_ID
        expr: SOURCE_FACILITY_ID
        data_type: INTEGER
        description: Unique identifier for the source facility with excess inventory
        sample_values:
          - '1001'
          - '1002'
          - '1003'
        synonyms:
          - origin_facility_id
          - origin_plant_id
          - starting_plant_id
          - initial_plant_id
          - sending_plant_id
      - name: DESTINATION_FACILITY_ID
        expr: DESTINATION_FACILITY_ID
        data_type: INTEGER
        description: Unique identifier for the destination facility that will receive materials
        sample_values:
          - '1001'
          - '1002'
          - '1003'
        synonyms:
          - receiving_plant_id
          - target_facility_id
          - recipient_plant_id
          - delivery_plant_id
          - destination_plant_id
    facts:
      - name: TRANSPORT_COST_SURCHARGE
        expr: TRANSPORT_COST_SURCHARGE
        data_type: NUMBER(3,2)
        description: Transport costs multiplier between facilities depending on distance and transport difficulty
        sample_values:
          - '1.25'
          - '1.40'
          - '1.15'
        synonyms:
          - transportation_fee
          - shipping_cost_multiplier
          - logistics_surcharge
          - delivery_cost_factor
          - freight_charge
          - transfer_cost_rate
    primary_key:
      columns:
        - SOURCE_FACILITY_ID
        - DESTINATION_FACILITY_ID
relationships:
  - name: MFG_PLANT_to_MFG_inventory
    join_type: inner
    relationship_type: many_to_one
    left_table: MFG_INVENTORY
    relationship_columns:
      - left_column: MFG_PLANT_ID
        right_column: MFG_PLANT_ID
    right_table: MFG_PLANT
  - name: MFG_inventory_to_raw_material
    join_type: left_outer
    relationship_type: many_to_one
    left_table: MFG_INVENTORY
    relationship_columns:
      - left_column: MATERIAL_ID
        right_column: MATERIAL_ID
    right_table: RAW_MATERIAL
  - name: MFG_inventory_to_component
    join_type: left_outer
    relationship_type: many_to_one
    left_table: MFG_INVENTORY
    relationship_columns:
      - left_column: COMPONENT_ID
        right_column: COMPONENT_ID
    right_table: COMPONENT
  - name: MFG_inventory_to_product
    join_type: left_outer
    relationship_type: many_to_one
    left_table: MFG_INVENTORY
    relationship_columns:
      - left_column: PRODUCT_ID
        right_column: PRODUCT_ID
    right_table: PRODUCT
  - name: orders_to_customer
    relationship_type: many_to_one
    join_type: inner
    left_table: ORDERS
    relationship_columns:
      - left_column: CUSTOMER_ID
        right_column: CUSTOMER_ID
    right_table: CUSTOMER
  - name: orders_to_mfg_plant
    relationship_type: many_to_one
    join_type: inner
    left_table: ORDERS
    relationship_columns:
      - left_column: MFG_PLANT_ID
        right_column: MFG_PLANT_ID
    right_table: MFG_PLANT
  - name: orders_to_product
    join_type: inner
    relationship_type: many_to_one
    left_table: ORDERS
    relationship_columns:
      - left_column: PRODUCT_ID
        right_column: PRODUCT_ID
    right_table: PRODUCT
  - name: shipment_to_origin_MFG_PLANT
    join_type: inner
    relationship_type: many_to_one
    left_table: SHIPMENT
    relationship_columns:
      - left_column: ORIGIN_MFG_PLANT_ID
        right_column: MFG_PLANT_ID
    right_table: MFG_PLANT
  - name: shipment_to_destination_customer
    join_type: inner
    relationship_type: many_to_one
    left_table: SHIPMENT
    relationship_columns:
      - left_column: DESTINATION_CUSTOMER_ID
        right_column: CUSTOMER_ID
    right_table: CUSTOMER
  - name: MFG_PLANT_to_transport_cost_surcharge_source
    join_type: inner
    relationship_type: many_to_one
    left_table: TRANSPORT_COST_SURCHARGE
    relationship_columns:
      - left_column: SOURCE_FACILITY_ID
        right_column: MFG_PLANT_ID
    right_table: MFG_PLANT
  - name: MFG_PLANT_to_transport_cost_surcharge_destination
    join_type: inner
    relationship_type: many_to_one
    left_table: TRANSPORT_COST_SURCHARGE
    relationship_columns:
      - left_column: DESTINATION_FACILITY_ID
        right_column: MFG_PLANT_ID
    right_table: MFG_PLANT
  - name: raw_material_to_supplier
    join_type: left_outer
    relationship_type: many_to_one
    left_table: RAW_MATERIAL
    relationship_columns:
      - left_column: SUPPLIER_ID
        right_column: SUPPLIER_ID
    right_table: SUPPLIERS
  - name: bill_of_materials_to_parent_product
    join_type: left_outer
    relationship_type: many_to_one
    left_table: BILL_OF_MATERIALS
    relationship_columns:
      - left_column: PARENT_PRODUCT_ID
        right_column: PRODUCT_ID
    right_table: PRODUCT
  - name: bill_of_materials_to_parent_component
    join_type: left_outer
    relationship_type: many_to_one
    left_table: BILL_OF_MATERIALS
    relationship_columns:
      - left_column: PARENT_COMPONENT_ID
        right_column: COMPONENT_ID
    right_table: COMPONENT
  - name: bill_of_materials_to_child_material
    join_type: left_outer
    relationship_type: many_to_one
    left_table: BILL_OF_MATERIALS
    relationship_columns:
      - left_column: CHILD_MATERIAL_ID
        right_column: MATERIAL_ID
    right_table: RAW_MATERIAL
  - name: bill_of_materials_to_child_component
    join_type: left_outer
    relationship_type: many_to_one
    left_table: BILL_OF_MATERIALS
    relationship_columns:
      - left_column: CHILD_COMPONENT_ID
        right_column: COMPONENT_ID
    right_table: COMPONENT
verified_queries:
  - name: Active MFG Plants
    question: How many active MFG plants do we have?
    use_as_onboarding_question: true
    sql: SELECT COUNT(*) AS active_plant_count FROM MFG_PLANT WHERE is_active = TRUE
    verified_by: Reid Lewis
    verified_at: 1740767188
  - name: AEROSPACE Business Line Orders
    question: How many orders are scheduled for the AEROSPACE business line?
    use_as_onboarding_question: true
    sql: SELECT COUNT(*) AS aerospace_order_count FROM orders AS o JOIN product AS p ON o.product_id = p.product_id WHERE p.business_line = 'AEROSPACE'
    verified_by: Reid Lewis
    verified_at: 1740767472
  - name: Finished Goods Inventory
    question: What's the total quantity of finished goods we have in our manufacturing plants?
    use_as_onboarding_question: true
    sql: SELECT SUM(quantity_on_hand) AS total_finished_goods_quantity FROM mfg_inventory WHERE product_id IS NOT NULL
    verified_by: Reid Lewis
    verified_at: 1740767486
  - name: Top Customers by Revenue
    question: Who are our top 5 customers by order value?
    use_as_onboarding_question: true
    sql: SELECT c.customer_name, SUM(o.total_price) AS total_order_value FROM orders AS o JOIN customer AS c ON o.customer_id = c.customer_id GROUP BY c.customer_name ORDER BY total_order_value DESC LIMIT 5
    verified_by: Reid Lewis
    verified_at: 1740767647
  - name: Recent Orders
    question: How many orders did we receive in the last month?
    use_as_onboarding_question: true
    sql: SELECT COUNT(*) AS order_count_last_30_days FROM orders WHERE order_date >= DATEADD(DAY, -30, CURRENT_DATE)
    verified_by: Reid Lewis
    verified_at: 1740767520
  - name: Low Inventory Materials
    question: Which raw materials at our Manufacturing Plants are running low on inventory?
    use_as_onboarding_question: true
    sql: SELECT mp.mfg_plant_name, rm.material_name, mi.quantity_on_hand, mi.safety_stock_level, mi.days_forward_coverage, mi.material_lead_time FROM mfg_inventory AS mi JOIN MFG_PLANT AS mp ON mi.MFG_PLANT_ID = mp.MFG_PLANT_ID JOIN raw_material AS rm ON mi.material_id = rm.material_id WHERE mi.quantity_on_hand < mi.safety_stock_level AND mi.days_forward_coverage <= mi.material_lead_time + mi.lead_time_variability
    verified_by: Reid Lewis
    verified_at: 1741189275
  - name: Late Shipments Analysis
    question: How many of our shipments were late last quarter?
    use_as_onboarding_question: true
    sql: SELECT COUNT(*) AS late_shipment_count FROM shipment WHERE actual_delivery_date > expected_delivery_date AND ship_date >= DATE_TRUNC('QUARTER', CURRENT_DATE) - INTERVAL '3 MONTHS' AND ship_date < DATE_TRUNC('QUARTER', CURRENT_DATE)
    verified_by: Reid Lewis
    verified_at: 1740767671
  - name: Plant Production Capacity
    question: What is the average production capacity utilization across our manufacturing plants?
    use_as_onboarding_question: true
    sql: SELECT mp.mfg_plant_name, mp.square_footage, mp.number_of_employees, COUNT(DISTINCT mi.product_id) as products_produced FROM mfg_plant mp LEFT JOIN mfg_inventory mi ON mp.mfg_plant_id = mi.mfg_plant_id WHERE mi.product_id IS NOT NULL GROUP BY mp.mfg_plant_name, mp.square_footage, mp.number_of_employees ORDER BY products_produced DESC
    verified_by: Reid Lewis
    verified_at: 1740767692
  - name: Material Transfer Cost Analysis
    question: For plants with low inventory, what would it cost to transfer materials from plants with excess inventory versus purchasing new materials?
    use_as_onboarding_question: false
    sql: WITH low_inventory AS (SELECT mi.mfg_plant_id AS low_plant_id, mp.mfg_plant_name AS low_plant_name, mi.material_id, rm.material_name, mi.quantity_on_hand AS low_qty, mi.replenishment_point, (mi.replenishment_point - mi.quantity_on_hand) AS units_needed, rm.material_cost, rm.plant_transport_cost FROM mfg_inventory AS mi JOIN mfg_plant AS mp ON mi.mfg_plant_id = mp.mfg_plant_id JOIN raw_material AS rm ON mi.material_id = rm.material_id WHERE mi.quantity_on_hand < mi.safety_stock_level AND mi.days_forward_coverage <= mi.material_lead_time + mi.lead_time_variability), excess_inventory AS (SELECT mi.mfg_plant_id AS excess_plant_id, mp.mfg_plant_name AS excess_plant_name, mi.material_id, mi.quantity_on_hand AS excess_qty, mi.replenishment_point AS excess_replenishment_point, (mi.quantity_on_hand - mi.replenishment_point) AS available_to_transfer FROM mfg_inventory AS mi JOIN mfg_plant AS mp ON mi.mfg_plant_id = mp.mfg_plant_id WHERE mi.quantity_on_hand > 3 * mi.safety_stock_level AND mi.days_forward_coverage > 2 * mi.material_lead_time) SELECT l.low_plant_name, l.material_name, l.units_needed, l.material_cost * l.units_needed AS supplier_purchase_cost, e.excess_plant_name, LEAST(l.units_needed, e.available_to_transfer) AS transferrable_units, l.plant_transport_cost * LEAST(l.units_needed, e.available_to_transfer) * tcs.transport_cost_surcharge AS transfer_cost FROM low_inventory AS l LEFT JOIN excess_inventory AS e ON l.material_id = e.material_id LEFT JOIN transport_cost_surcharge AS tcs ON e.excess_plant_id = tcs.source_facility_id AND l.low_plant_id = tcs.destination_facility_id ORDER BY l.low_plant_name, l.material_name
    verified_by: Reid Lewis
    verified_at: 1741191526
custom_instructions: |-
  Unless explicitly specified otherwise, assume users are asking about current data, not historical data. For example, 'inventory levels' should refer to the current `quantity_on_hand`, not past inventory.

  The 'business_line' column is crucial. Many queries will implicitly or explicitly refer to one of the four business lines: AEROSPACE, INDUSTRIAL, BUILDINGS, and ENERGY. Pay close attention to this.

  If a user mentions terms like 'airplane,' 'avionics,' 'flight,' or 'aircraft,' they are likely referring to the AEROSPACE business line. Terms like 'factory,' 'PLC,' 'process control,' or 'manufacturing' likely refer to INDUSTRIAL. 'Thermostat,' 'HVAC,' 'building management,' or 'climate control' usually refer to BUILDINGS. 'Energy,' 'solar,' 'wind,' 'battery,' or 'sustainability' generally refer to ENERGY.

  Our simplified supply chain has only Manufacturing Plants that produce both components and finished products for direct sale to customers. There are NO distributors or FAT facilities - we eliminated that complexity.

  The supply chain flow is: Suppliers  Manufacturing Plants  Customers (direct sales only).

  We now have detailed supplier information in the SUPPLIERS table, which includes contact details, business lines, and preferred supplier status. Raw materials are linked to their primary suppliers.

  The BILL_OF_MATERIALS table shows the detailed breakdown of what raw materials and components are needed to manufacture each product or component, including quantities, units of measure, and scrap factors.

  Manufacturing plant inventory (MFG_INVENTORY) can contain three types of items:
  1. Raw materials (material_id populated) - sourced from suppliers
  2. Components (component_id populated) - manufactured from raw materials  
  3. Finished products (product_id populated) - assembled from components, sold directly to customers

  When a user asks about 'inventory,' consider the context:
  - At manufacturing plants: could mean raw materials, components, or finished products
  - If unspecified, assume they want all inventory types unless context suggests otherwise
  - 'Raw materials' = materials sourced from suppliers
  - 'Components' = parts manufactured in-house
  - 'Finished goods/products' = final products sold to customers

  Orders are placed directly by customers with manufacturing plants (no distributors). Orders reference the specific manufacturing plant that will fulfill the order.

  Shipments go directly from manufacturing plants to customers (no intermediate distributors or FAT facilities).

  For material transfer analysis, users may ask about transferring raw materials from manufacturing plants with excess inventory to those with shortages. Compare the cost of purchasing new materials versus transferring existing materials between plants, factoring in transport_cost_surcharge.

  Our customers include major companies like American Airlines, Boeing, ExxonMobil, Tesla Energy, and others across the four business lines.

  Manufacturing plants are located across the US in cities like Phoenix, Seattle, Atlanta, Houston, etc., and each specializes in different business lines.